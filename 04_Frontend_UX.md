04. Логика Фронтенда и UX

Интерфейс должен быть отзывчивым, "как в игре". Все в одном файле index.html (HTML + CSS + JS).

1. Редактор Карт (Warcraft-style)

Ключевая фича, должна работать идеально.

Инициализация: Запрос к серверу за шаблоном стен (стены генерируются сервером, их двигать нельзя).

Тулбар: [Змея 0/4], [Скарабей 0/2], [Сундук 0/1], [Ластик].

Механика "Призрак" (Ghost):

При наведении курсора на клетку подсвечивать её.

Зеленый: Если можно поставить (пустой песок).

Красный: Если нельзя (стена или уже занято).

Сундук: Подсвечивать сразу две клетки (текущую и соседнюю), так как он занимает 2 слота. Добавить кнопку "Повернуть" (Rotate).

Валидация: Кнопка "Опубликовать" активна только когда все предметы (4+2+1) расставлены.

2. Геймплей (Рейд)

Таймер: Визуальный обратный отсчет 120 сек. Если 0 — авто-выход.

Отображение карты:

Стены: Серые блоки.

Ранее раскопанное (другими): Показывается сразу.

Неизвестное: Песок (кнопка).

Действие: Клик -> Loading Spinner -> Результат.

Победа:

Модальное окно.

Кнопка "Забрать деньги" (вызывает /leave_raid).

Кнопка "Следующий этап" (вызывает /complete_stage, затем перезапускает интерфейс рейда).

3. "Мои Гробницы"

Экран со списком карт игрока.

Статистика: "Убито: 5", "Заработано: 2.5 TON".

Кнопка "Забрать награду" (активна, если есть pending_balance).